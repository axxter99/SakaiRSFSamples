<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<!-- The "request scope application context" file. The two "action" beans definitions
  are identical to those from the original SWF file, whereas the "data" beans are
  now backed by beans which used to be defined in private static inner classes. -->

<beans>
  <bean id="dataBean"
    class="uk.ac.cam.caret.sakai.rsf.beans.DataBean" />

  <bean id="dateTransit" parent="beanExploder">
    <property name="beanName" value="transitSeed"/>
  </bean>
  
  <bean name="monthBean" class="uk.org.ponder.dateutil.MonthBean">
    <property name="locale" ref="sakai-Locale"/>
  </bean>
  
  <bean id="componentChoice" class="uk.ac.cam.caret.sakai.rsf.beans.ComponentChoiceBean">
    <property name="dateEvolvers" ref="dateEvolvers"/>
    <property name="textEvolvers" ref="textEvolvers"/>
  </bean>
  
  <bean id="textEvolver" factory-bean="componentChoice" factory-method="getTextInputEvolver"/>
  
  <bean id="dateEvolver" factory-bean="componentChoice" factory-method="getDateInputEvolver"/>
  
  
  <bean class="uk.ac.cam.caret.sakai.rsf.producers.IndexProducer">
  <!-- This would not be injected with OTP -->
    <property name="dataBean" ref="dataBean"/>
    <property name="choiceBean" ref="componentChoice"/>
    <property name="dateEvolver" ref="dateEvolver"/>
    <property name="textEvolver" ref="textEvolver"/>
  </bean>
  
</beans>